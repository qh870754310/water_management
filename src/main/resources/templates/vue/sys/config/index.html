<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>快速开发平台</title>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- 浏览器标签图片 -->
    <link rel="shortcut icon" th:href="@{/favicon.ico}"/>
    <!-- TopJUI框架样式 -->
    <link type="text/css" th:href="@{/resource/plugins/topjui/themes/default/topjui.core.min.css}" rel="stylesheet"/>
    <link type="text/css" th:href="@{/resource/plugins/topjui/themes/default/topjui.blue.css}" rel="stylesheet" id="dynamicTheme"/>
    <!-- FontAwesome字体图标 -->
    <link type="text/css" th:href="@{/resource/plugins/font-awesome/css/font-awesome.min.css}" rel="stylesheet"/>
    <!-- jQuery相关引用 -->
    <script type="text/javascript" th:src="@{/resource/plugins/jquery/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/resource/plugins/jquery/jquery.cookie.js}"></script>
    <!-- TopJUI框架配置 -->
    <script type="text/javascript" th:src="@{/resource/public/js/topjui.config.js}"></script>
    <script type="text/javascript" th:inline="none">
        /*<![CDATA[*/
           if (window.location.pathname == "/index") myConfig.config.mainPage = true;
        /*]]>*/
    </script>
    <!-- TopJUI框架核心 -->
    <script type="text/javascript" th:src="@{/resource/plugins/topjui/js/topjui.core.min_demo.js}"></script>
    <!-- TopJUI中文支持 -->
    <script type="text/javascript" th:src="@{/resource/plugins/topjui/js/locale/topjui.lang.zh_CN.js}"></script>
    <!-- 公共函数 -->
    <script type="text/javascript" th:src="@{/resource/public/js/common.js}"></script>
    <script type="text/javascript" th:src="@{/resource/plugins/layui/layui.js}"></script>
</head>

<body>
<div data-toggle="topjui-layout" data-options="fit:true">
    <div data-options="region:'center',iconCls:'icon-reload',title:'',split:true,border:false">
        <table id="configDatagrid" class="topjui-edatagrid"></table>
    </div>
</div>
<!-- 表格工具栏 -->
<div id="configDatagrid-toolbar" class="topjui-toolbar" data-options="grid:{
           type:'datagrid',
           id:'configDatagrid'
       }" style="display:none">
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'edatagrid',
       extend:'#configDatagrid-toolbar',
       type:'addRow',
       iconCls:'fa fa-plus',
       btnCls:'topjui-btn-green'">新增</a>
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'edatagrid',
       extend:'#configDatagrid-toolbar',
       type:'saveRow',
       iconCls:'fa fa-save',
       btnCls:'topjui-btn-blue'">保存</a>
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'edatagrid',
       extend:'#configDatagrid-toolbar',
       type:'cancelRow',
       iconCls:'fa fa-close',
       btnCls:'topjui-btn-black'">取消</a>
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'doAjax',
           extend:'#configDatagrid-toolbar',
           btnCls:'topjui-btn-red',
           url:'/system/config/delete'">删除</a>
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'filter',
       extend:'#configDatagrid-toolbar',
       btnCls:'topjui-btn-orange'">过滤</a>
    <a href="javascript:void(0)"
       data-toggle="topjui-menubutton"
       data-options="method:'search',
       extend:'#configDatagrid-toolbar',
       btnCls:'topjui-btn-purple'">查询</a>
</div>

<script type="text/javascript">
    /*<![CDATA[*/

    /*]]>*/
</script>
<script type="text/javascript" th:inline="none">
    /*<![CDATA[*/
    var $datagrid = $('#configDatagrid');
    $datagrid.iEdatagrid({
        selectOnCheck:false,
        reloadAfterSave:true,
        url:'/system/config/getPageSetData',
        saveUrl:'/system/config/save',
        updateUrl:'/system/config/update',
        sortName: 'createTime',//排序字段
        sortOrder: 'desc',//排序类型
        remoteSort: true,//是否开启远程服务器排序
        columns:[
            [
                {field:'id',title:'UUID',checkbox:true},
                {field:'name',title:'名称',sortable:true,editor: {type:'textbox',options:{required:true,height:30}}},
                {field:'code',title:'代码',sortable:true,editor:{type:'textbox',options:{required:true,height:30}}},
                {field:'value',title:'值',sortable:true,editor:{type:'textbox',options:{required:true,height:30}}},
                {field:'description',title:'描述',sortable:true,editor:{type:'textbox',options:{required:true,height:30}}},
                {field:'sort',title:'排序',sortable:true,width:60,editor:{type:'numberspinner',options:{required:true,height:30}}},
                {field:'createId',title:'创建人',sortable:true},
                {field:'createTime',title:'创建时间',sortable:true}
            ]
        ],
        toolbar: "#configDatagrid-toolbar"
    });
    /*]]>*/
</script>
</body>
</html>